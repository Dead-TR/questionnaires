"use strict";(self.webpackChunkdate=self.webpackChunkdate||[]).push([[323],{8163:function(e,r,n){n.d(r,{a:function(){return m}});var t,a=n(1413),c=n(5987),u=n(2791),s=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(this,arguments)}function o(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},c=Object.keys(e);for(t=0;t<c.length;t++)n=c[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)n=c[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,r){var n=e.title,a=e.titleId,c=o(e,s);return u.createElement("svg",i({id:"L9",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve",ref:r,"aria-labelledby":a},c),n?u.createElement("title",{id:a},n):null,t||(t=u.createElement("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},u.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}))))}var l=u.forwardRef(f),p=(n.p,{}),h=n(8182),v=n(184),d=["className","style","size"],m=function(e){var r=e.className,n=e.style,t=e.size,u=(0,c.Z)(e,d);return(0,v.jsx)(l,(0,a.Z)((0,a.Z)({},u),{},{className:(0,h.Z)(r,p.loader),style:(0,a.Z)((0,a.Z)({},n),{},{width:t,height:t})}))}},4510:function(e,r,n){n.d(r,{ZP:function(){return N},aC:function(){return Z},nw:function(){return O}});var t=n(3504),a=n(8562),c=n(6249),u=n(885),s=n(4165),i=n(5861),o=n(2791),f=n(8791),l=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(r,n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.e5)(v,r,n);case 3:return t=e.sent,e.abrupt("return",t.user);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.w7)(v);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=n(184),v=(0,f.v0)(),d=(0,o.createContext)({sighIn:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sightOut:function(){},user:null}),m=function(e){var r=e.children,n=(0,o.useState)(v.currentUser),t=(0,u.Z)(n,2),a=t[0],c=t[1];return(0,o.useEffect)((function(){v.onAuthStateChanged((function(e){c(e)}))}),[]),(0,h.jsx)(d.Provider,{value:{user:a,sighIn:l,sightOut:p},children:r})},Z=function(){return(0,o.useContext)(d)},g=n(7762),x=n(1413),w=n(2481),y=n(9398),b=n(7686),k=n(3543),P=n(4070),S=(0,o.createContext)({profiles:{},setProfiles:function(){},removeProfile:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loading:!1,favorites:{},changeFavorites:function(){}}),j=function(e){var r=e.children,n=(0,o.useState)({}),t=(0,u.Z)(n,2),a=t[0],f=t[1],l=(0,o.useState)(!0),p=(0,u.Z)(l,2),v=p[0],d=p[1],m=(0,o.useState)({isOpen:!1,severity:"success"}),Z=(0,u.Z)(m,2),j=Z[0],O=Z[1],C=(0,o.useState)({}),E=(0,u.Z)(C,2),I=E[0],L=E[1];(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var r,n,t,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,r=(0,w.IO)((0,w.hJ)(c.sY,"profiles")),e.next=5,(0,w.PL)(r);case 5:return n=e.sent,e.next=8,new Promise((function(e,r){var t={},a=n.size,c=0;n.forEach(function(){var r=(0,i.Z)((0,s.Z)().mark((function r(n){var u,i,o,f,l,p,h,v,d;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:u=n.data(),i=n.id,o=[],f=(0,g.Z)(u.photos),r.prev=4,f.s();case 6:if((l=f.n()).done){r.next=15;break}return p=l.value,h=p.isAvatar,v=p.name,r.next=11,(0,y.D)(p.name);case 11:d=r.sent,o.push({isAvatar:h,link:d,name:v});case 13:r.next=6;break;case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(4),f.e(r.t0);case 20:return r.prev=20,f.f(),r.finish(20);case 23:t[i]=(0,x.Z)((0,x.Z)({},u),{},{photos:o}),++c===a&&e(t);case 25:case"end":return r.stop()}}),r,null,[[4,17,20,23]])})));return function(e){return r.apply(this,arguments)}}()),c===a&&e(t)}));case 8:t=e.sent,f(t);try{(a=localStorage.getItem("favorites"))&&(u=JSON.parse(a),L(u.reduce((function(e,r){return e[r]=r,e}),{})))}catch(o){console.error("Something went wrong",o)}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Something went wrong",e.t0);case 16:d(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var H=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a[r],f((function(e){return delete e[r],(0,x.Z)({},e)})),e.next=4,(0,b.Z7)(r,n);case 4:if(!e.sent){e.next=10;break}return O({isOpen:!0,severity:"success"}),e.abrupt("return",!0);case 10:return O({isOpen:!0,severity:"error"}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S.Provider,{value:{profiles:a,setProfiles:f,removeProfile:H,loading:v,favorites:I,changeFavorites:function(e){L((function(r){!!r[e]?delete r[e]:r[e]=e;try{var n=Object.keys(r);localStorage.setItem("favorites",JSON.stringify(n))}catch(t){console.error(t)}return(0,x.Z)({},r)}))}},children:r}),(0,h.jsx)(k.Z,{open:j.isOpen,onClose:function(){return O((function(e){return(0,x.Z)((0,x.Z)({},e),{},{isOpen:!1})}))},autoHideDuration:2e3,children:(0,h.jsx)(P.Z,{variant:"filled",severity:j.severity,children:"success"===j.severity?"Successfully deleted!":"Something went wrong"})})]})},O=function(){return(0,o.useContext)(S)},C=n(7107),E=n(5231),I=(0,C.Z)({palette:{primary:{main:"#593196"},secondary:{main:"#ded6ea"},success:{main:"#13b955"},warning:{main:"#efa31d"},info:{main:"#00a1d7"},error:{main:"#93000a"}}}),L=function(e){var r=e.children;return(0,h.jsx)(E.Z,{theme:I,children:r})},H=!!c.oY,N=function(e){var r=e.children;return H?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(L,{children:(0,h.jsx)(t.VK,{children:(0,h.jsx)(a.v3,{children:(0,h.jsx)(m,{children:(0,h.jsx)(j,{children:(0,h.jsx)(h.Fragment,{children:r})})})})})})}):null}},8562:function(e,r,n){n.d(r,{v3:function(){return v},hI:function(){return d}});var t=n(2791),a={page:{path:"",navigate:function(){},isHavePrevHistory:!1},searchParams:{params:{},change:function(){},clear:function(){},delete:function(){}},defaultLocation:{hash:"",key:"",pathname:"",search:"",state:{}}},c=t.createContext(a),u=n(7762),s=n(1413),i=n(885),o=n(6871),f=/^\/{2,}/g,l=/\/*$/g,p=function(e,r){var n=new URLSearchParams(r.search);return Object.entries(e).forEach((function(e){var r=(0,i.Z)(e,2),t=r[0],a=r[1];"string"===typeof a?n.set(t,a):a.forEach((function(e){return n.append(t,e)}))})),n},h=n(184),v=function(e){var r=e.children,n=(0,o.s0)(),a=(0,o.TH)(),v=function(){var e=a.pathname.split("/modal/");return{pagePath:(0,i.Z)(e,1)[0]||"/"}},d=(0,t.useState)((0,s.Z)((0,s.Z)({},v()),{},{searchParams:{}})),m=(0,i.Z)(d,2),Z=m[0],g=m[1];(0,t.useEffect)((function(){g((function(e){return(0,s.Z)((0,s.Z)({},e),v())}))}),[a.pathname]),(0,t.useEffect)((function(){var e,r=new URLSearchParams(a.search).entries(),n={},t=(0,u.Z)(r);try{for(t.s();!(e=t.n()).done;){var c=(0,i.Z)(e.value,2),o=c[0],f=c[1],l=n[o];l?l.push(f):n[o]=[f]}}catch(p){t.e(p)}finally{t.f()}g((function(e){return(0,s.Z)((0,s.Z)({},e),{},{searchParams:n})}))}),[a.search]);return(0,h.jsx)(c.Provider,{value:{page:{path:Z.pagePath,navigate:function(e,r){a.pathname!==e&&("string"===typeof e?n(e.replaceAll(f,"/").replaceAll(l,""),r):"default"===a.key?n("/",r):n(e,r))},isHavePrevHistory:"default"!==a.key},searchParams:{params:Z.searchParams,change:function(e){n({pathname:a.pathname,search:p(e,a).toString()})},delete:function(e){var r=new URLSearchParams(a.search);r.delete(e),n({pathname:a.pathname,search:r.toString()})},clear:function(){n({pathname:a.pathname,search:""})}},defaultLocation:a},children:r})},d=function(){return(0,t.useContext)(c)}},9398:function(e,r,n){n.d(r,{D:function(){return s}});var t=n(4165),a=n(5861),c=n(6249),u=n(276),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,u.iH)(c.hu,r),e.next=4,(0,u.Jt)(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Can't download photo: ",r,e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=323.46f203b3.chunk.js.map